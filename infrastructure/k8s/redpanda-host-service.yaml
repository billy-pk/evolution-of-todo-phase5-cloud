# Service to expose host Docker Redpanda to Kubernetes pods
# This creates a headless service with explicit endpoints pointing to the host
apiVersion: v1
kind: Service
metadata:
  name: redpanda
  namespace: default
spec:
  ports:
  - port: 9092
    targetPort: 9092
    name: kafka
---
apiVersion: v1
kind: Endpoints
metadata:
  name: redpanda
  namespace: default
subsets:
- addresses:
  - ip: 192.168.49.1  # host.minikube.internal IP
  ports:
  - port: 9092
    name: kafka
