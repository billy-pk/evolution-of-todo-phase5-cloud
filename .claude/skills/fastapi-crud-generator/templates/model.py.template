"""
SQLModel Database Model for {ModelName}

Generated by fastapi-crud-generator skill
Table: {table_name}
Multi-tenant: {multi_tenant}
"""

from sqlmodel import Field, SQLModel
from datetime import datetime
from uuid import UUID, uuid4
from typing import Optional


class {ModelName}(SQLModel, table=True):
    """
    {ModelName} model for database table.

    {description}

    Attributes:
        id: Unique identifier (UUID)
        user_id: Owner user ID for multi-tenant isolation
        [Custom fields based on user input]
        created_at: Creation timestamp (UTC)
        updated_at: Last update timestamp (UTC)
    """
    __tablename__ = "{table_name}"  # Plural, lowercase (e.g., "tasks", "projects")

    # ===== Primary Key =====
    id: UUID = Field(
        default_factory=uuid4,
        primary_key=True,
        description="Unique {resource} identifier"
    )

    # ===== User ID (Multi-Tenant Isolation) =====
    user_id: str = Field(
        index=True,  # Index for fast user_id queries
        max_length=255,
        description="User ID from authentication (owner of this {resource})"
    )

    # ===== Custom Fields =====
    # Add your custom fields here based on requirements
    # Examples:

    # String field (required)
    # title: str = Field(
    #     max_length=200,
    #     min_length=1,
    #     description="{Resource} title (required)"
    # )

    # String field (optional)
    # description: Optional[str] = Field(
    #     default=None,
    #     max_length=1000,
    #     description="{Resource} description (optional)"
    # )

    # Boolean field
    # completed: bool = Field(
    #     default=False,
    #     description="Completion status"
    # )

    # Integer field with constraints
    # priority: int = Field(
    #     default=1,
    #     ge=1,  # Greater than or equal to 1
    #     le=5,  # Less than or equal to 5
    #     description="Priority level (1-5)"
    # )

    # Float/Decimal field
    # amount: float = Field(
    #     default=0.0,
    #     ge=0.0,
    #     description="Amount in currency"
    # )

    # DateTime field (optional)
    # due_date: Optional[datetime] = Field(
    #     default=None,
    #     description="Due date for the {resource}"
    # )

    # Enum field (use Literal for fixed choices)
    # from typing import Literal
    # status: Literal["pending", "in_progress", "completed"] = Field(
    #     default="pending",
    #     description="Status of the {resource}"
    # )

    # Foreign key (if referencing another model)
    # project_id: Optional[UUID] = Field(
    #     default=None,
    #     foreign_key="projects.id",
    #     description="Associated project ID"
    # )

    # ===== Timestamps (Always Include) =====
    created_at: datetime = Field(
        default_factory=datetime.utcnow,
        description="Creation timestamp (UTC)"
    )

    updated_at: datetime = Field(
        default_factory=datetime.utcnow,
        description="Last update timestamp (UTC)"
    )

    # ===== Soft Delete (Optional) =====
    # Uncomment if you want soft delete instead of hard delete
    # deleted_at: Optional[datetime] = Field(
    #     default=None,
    #     description="Deletion timestamp (NULL if not deleted)"
    # )


# ===== Field Type Reference =====
# Use this reference when creating fields:
#
# Basic Types:
# - str: String (use max_length for VARCHAR)
# - int: Integer (use ge/le for constraints)
# - float: Decimal/Float
# - bool: Boolean
# - datetime: Timestamp
# - UUID: Unique identifier
# - Optional[type]: Nullable field
#
# Constraints:
# - max_length: Maximum string length
# - min_length: Minimum string length
# - ge: Greater than or equal (>=)
# - le: Less than or equal (<=)
# - gt: Greater than (>)
# - lt: Less than (<)
# - regex: Regular expression pattern
# - default: Default value
# - default_factory: Function to generate default (e.g., uuid4, datetime.utcnow)
# - index: Create database index
# - unique: Enforce uniqueness
# - foreign_key: Foreign key reference (e.g., "table.column")
#
# Examples:
# email: str = Field(max_length=255, regex=r"^[\w\.-]+@[\w\.-]+\.\w+$")
# age: int = Field(ge=0, le=150)
# percentage: float = Field(ge=0.0, le=100.0)
# is_active: bool = Field(default=True)
# tags: Optional[str] = Field(default=None, max_length=500)
